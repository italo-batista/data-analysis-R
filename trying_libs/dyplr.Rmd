---
title: "Trying Dplyr"
output: html_document
---

```{r include = FALSE}
library(dplyr)
library(nycflights13)
```


#### Uma olhada rápida no dataset:

Dimensões
```{r}
dim(flights)
```

Use head() ou glimpse() para ver os dados.
```{r}
head(flights)
```
```{r}
glimpse(flights)
```


### filter()  
  
Para filtrar os vôos do primeiro mês que saíram no intervalo entre 05:00 e 05:59, com `dyplr` fazemos:
```{r}
flights %>%
  filter(month == 1, hour == 5)
```


### select()  
  
Selecionar as colunas year, month e day:
```{r}
flights %>%
  select(year, month, day)
```
  
Ou selecionar todas as colunas entre year e dep_time (inclusive):
```{r}
select(flights, year:dep_time)
```


### mutate()
  
Criando um conjunto de dados
```{r}
data.frame = data.frame(dias = c(1:10), 
                        total_commits = c(3, 0, 1, 2, 6, 8, 12, 5, 4, 1), 
                        prs = c(1, 0, 1, 1, 2, 2, 4, 1, 2, 0)
            )

data.frame
```
  
Criando a informação de commits reais (commits totais exceto os pull requests)
```{r}
data.frame = data.frame %>%
  mutate(real_commits = total_commits - prs)

data.frame
```


### summarise()
  
Para calcular funções em um data frame.
  
Calculando média e desvio padrão das distâncias:
```{r}
flights %>%
  summarise(mean(distance, na.rm = TRUE),
            sd(distance, na.rm = TRUE))

```
  
O parâmetro na.rm, quando TRUE, remove todos os elementos NA antes de realizar o cálculo da média.



























